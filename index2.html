<!DOCTYPE html>
<html lang="en">
<head>
  <title>Blueturn in IFrame</title>
</head>
<body>
  <iframe id="bt1" src="https://app.blueturn.earth?timespeed=3600&play=1&date=2024-12-21" width="800" height="600" frameborder="2" allowfullscreen
    sandbox="allow-scripts allow-same-origin"
  ></iframe>
  <button id="playToggle">Pause</button>
  <iframe id="bt2" src="https://app.blueturn.earth?timespeed=3600&play=1&date=2024-06-21" width="800" height="600" frameborder="2" allowfullscreen
    sandbox="allow-scripts allow-same-origin"
  ></iframe>
  <script>
    const playToggle = document.getElementById('playToggle');
    let isPlaying = true;

    function postMessage(msg) {
      const iframes = [document.getElementById("bt1"), document.getElementById("bt2")];
      iframes.forEach(iframe => {
        if (iframe.contentWindow) {
          iframe.contentWindow.postMessage(msg, window.location.origin);
        }
      });
    }

    playToggle.addEventListener('click', () => {
      isPlaying = !isPlaying;
      let msg = {
        type: "play",
        value: isPlaying
      }
      postMessage(msg);
      playToggle.textContent = isPlaying ? 'Pause' : 'Play';
    });
  </script>
</body>
</html>
