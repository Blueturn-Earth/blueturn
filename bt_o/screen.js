const _0x32fb4e=_0x22e6;(function(_0x478ef5,_0x4e98c0){const _0xdd5472=_0x22e6,_0x50b5a2=_0x478ef5();while(!![]){try{const _0x4261d2=parseInt(_0xdd5472(0x215))/0x1*(-parseInt(_0xdd5472(0x1ee))/0x2)+parseInt(_0xdd5472(0x209))/0x3+parseInt(_0xdd5472(0x1fa))/0x4+-parseInt(_0xdd5472(0x208))/0x5+parseInt(_0xdd5472(0x1f6))/0x6+-parseInt(_0xdd5472(0x1fc))/0x7+parseInt(_0xdd5472(0x1f8))/0x8;if(_0x4261d2===_0x4e98c0)break;else _0x50b5a2['push'](_0x50b5a2['shift']());}catch(_0x3e5e8a){_0x50b5a2['push'](_0x50b5a2['shift']());}}}(_0x3063,0x64c56));let canvas=document[_0x32fb4e(0x20c)](_0x32fb4e(0x1f2));function _0x3063(){const _0x4eafa2=['wheel','stringify','touchend','left','set','click','getTime','preventDefault','push','abs','resize','double-click','top','4NBfsyj','sqrt','get','callEvent','glcanvas','Meta','Unsupported\x20event\x20','forEach','603726wqrjHK','drag','10298952kRAGFY','mousewheel','242320KzllKJ','width','4417630LFFPvw','relatedTarget','startPos','long-press','mousemove','posSpeed','clickCancelled','length','altKey','pinch','Alt','wheelDelta','1523890oidbFg','962232MddISx','touchmove','touches','getElementById','out','innerHeight','ctrlKey','eventStr','toElement','longPressTimeout','down','height','210344SWXQYE','LeftBtn','deltaTime','deltaPos','mouseout','touchstart','clientY','clientX','nodeName','shiftKey','getBoundingClientRect','log','dragPos','addEventListener','doubleClickTimeout','modifierMask','movePos'];_0x3063=function(){return _0x4eafa2;};return _0x3063();}export const Modifiers={'LeftBtn':0x1<<0x0,'MiddleBtn':0x1<<0x1,'RightButton':0x1<<0x2,'NotUsed_':0x1<<0x3,'Shift':0x1<<0x4,'Ctrl':0x1<<0x5,'Alt':0x1<<0x6,'Meta':0x1<<0x7};function getModifierMask(_0x13902c){const _0x414c63=_0x32fb4e;let _0x3503e4=0x0;if(_0x13902c[_0x414c63(0x1d9)])_0x3503e4|=Modifiers['Shift'];if(_0x13902c[_0x414c63(0x20f)])_0x3503e4|=Modifiers['Ctrl'];if(_0x13902c[_0x414c63(0x204)])_0x3503e4|=Modifiers[_0x414c63(0x206)];if(_0x13902c['metaKey'])_0x3503e4|=Modifiers[_0x414c63(0x1f3)];return _0x3503e4;}export let gModifiersMask=0x0;function getCanvasCoords(_0x3e632f,_0x1bd6a0){const _0x212ca5=_0x32fb4e,_0x68cc4d=canvas[_0x212ca5(0x1da)](),_0x41d6a3={'x':(_0x3e632f-_0x68cc4d[_0x212ca5(0x1e4)])*canvas[_0x212ca5(0x1fb)]/_0x68cc4d[_0x212ca5(0x1fb)],'y':(_0x1bd6a0-_0x68cc4d[_0x212ca5(0x1ed)])*canvas[_0x212ca5(0x214)]/_0x68cc4d[_0x212ca5(0x214)]};return _0x41d6a3;}class Screen{#events=new Map();#startPos=undefined;#lastMovePos=undefined;#lastMoveTime=undefined;#lastMove2Vector=undefined;get[_0x32fb4e(0x1fe)](){return this.#startPos;}constructor(){const _0x2413c8=_0x32fb4e;this.#events[_0x2413c8(0x1e5)]('move',[]),this.#events[_0x2413c8(0x1e5)](_0x2413c8(0x1f7),[]),this.#events[_0x2413c8(0x1e5)]('down',[]),this.#events[_0x2413c8(0x1e5)]('long-press',[]),this.#events[_0x2413c8(0x1e5)]('up',[]),this.#events[_0x2413c8(0x1e5)](_0x2413c8(0x1e6),[]),this.#events[_0x2413c8(0x1e5)](_0x2413c8(0x1ec),[]),this.#events[_0x2413c8(0x1e5)](_0x2413c8(0x20d),[]),this.#events['set'](_0x2413c8(0x1f9),[]),this.#events[_0x2413c8(0x1e5)](_0x2413c8(0x205),[]);let _0x1c927a=this;window[_0x2413c8(0x1dd)]('load',function(_0x57fbb5){const _0x17abee=_0x2413c8;canvas[_0x17abee(0x1dd)](_0x17abee(0x200),_0x4ed864=>{const _0x200150=_0x17abee;_0x1c927a.#handleMove(_0x4ed864[_0x200150(0x1d7)],_0x4ed864['clientY'],_0x4ed864);}),canvas[_0x17abee(0x1dd)]('mouseup',_0x324c6c=>{_0x1c927a.#handleEnd();}),canvas[_0x17abee(0x1dd)]('mousedown',_0x5cf301=>{const _0x295c89=_0x17abee;_0x1c927a.#handleStart(_0x5cf301[_0x295c89(0x1d7)],_0x5cf301['clientY'],_0x5cf301);}),canvas['addEventListener'](_0x17abee(0x21a),_0x14a58d=>{const _0x2fab0d=_0x17abee;if(_0x14a58d[_0x2fab0d(0x20b)][_0x2fab0d(0x203)]>0x0){const _0x1f4d2c=_0x14a58d['touches'][0x0];_0x1c927a.#handleStart(_0x1f4d2c[_0x2fab0d(0x1d7)],_0x1f4d2c[_0x2fab0d(0x21b)]);}_0x14a58d[_0x2fab0d(0x1e8)]();},{'passive':![]}),canvas[_0x17abee(0x1dd)](_0x17abee(0x20a),_0x37c35a=>{const _0x3665e9=_0x17abee;switch(_0x37c35a[_0x3665e9(0x20b)][_0x3665e9(0x203)]){case 0x1:const _0x5e2d19=_0x37c35a[_0x3665e9(0x20b)][0x0];_0x1c927a.#handleMove(_0x5e2d19['clientX'],_0x5e2d19[_0x3665e9(0x21b)]);break;case 0x2:const _0xa416c7=_0x37c35a[_0x3665e9(0x20b)][0x0],_0xdadba6=_0x37c35a['touches'][0x0];_0x1c927a.#handleMove2(_0xa416c7[_0x3665e9(0x1d7)],_0xa416c7['clientY'],_0xdadba6['clientX'],_0xdadba6['clientY']);break;}_0x37c35a[_0x3665e9(0x1e8)]();},{'passive':![]}),canvas['addEventListener'](_0x17abee(0x1e3),_0x446b37=>{const _0x3b4e17=_0x17abee;_0x1c927a.#handleEnd(),_0x446b37[_0x3b4e17(0x1e8)]();},{'passive':![]}),document[_0x17abee(0x1dd)](_0x17abee(0x219),function(_0xc15dae){_0x1c927a.#handleOut(_0xc15dae);}),document[_0x17abee(0x1dd)](_0x17abee(0x1e1),function(_0x3f09b6){_0x1c927a.#handleWheel(_0x3f09b6);});});}#CLICK_THRESHOLD=canvas['width']/0x32;#DOUBLECLICK_THRESHOLD=canvas[_0x32fb4e(0x1fb)]/0x1e;#LONG_PRESS_TIME_MS=0x1f4;#DOUBLE_CLICK_TIME_MS=0xc8;#MOVE_2_CROSS_THRESHOLD=0.1;#PINCH_STEP=canvas['width']/0x32;[_0x32fb4e(0x1dd)](_0xd77754,_0x2e0077){const _0x59f95a=_0x32fb4e;let _0x40dc89=this.#events[_0x59f95a(0x1f0)](_0xd77754);!_0x40dc89?console['error']('Unsupported\x20event\x20'+_0xd77754):_0x40dc89[_0x59f95a(0x1e9)](_0x2e0077);}[_0x32fb4e(0x1f1)](_0x10d8d3,_0x5282c4){const _0x492c64=_0x32fb4e;let _0x260c45=this.#events['get'](_0x10d8d3);!_0x260c45?console['error'](_0x492c64(0x1f4)+_0x10d8d3):(_0x5282c4[_0x492c64(0x210)]=_0x10d8d3,_0x260c45[_0x492c64(0x1f5)](_0x18188d=>_0x18188d(_0x5282c4)));}#handleMove(_0x2ed017,_0x98dedb,_0x27f78f=undefined){const _0x8dff46=_0x32fb4e;_0x27f78f&&(gModifiersMask|=getModifierMask(_0x27f78f));if(!_0x27f78f)_0x27f78f={};_0x27f78f[_0x8dff46(0x1e0)]=getCanvasCoords(_0x2ed017,_0x98dedb),this.#lastMoveTime&&this.#lastMovePos&&(_0x27f78f['deltaPos']={'x':_0x27f78f[_0x8dff46(0x1e0)]['x']-this.#lastMovePos['x'],'y':_0x27f78f[_0x8dff46(0x1e0)]['y']-this.#lastMovePos['y']},_0x27f78f[_0x8dff46(0x217)]=(new Date()[_0x8dff46(0x1e7)]()-this.#lastMoveTime)/0x3e8,_0x27f78f[_0x8dff46(0x201)]={'x':_0x27f78f['deltaPos']['x']/_0x27f78f[_0x8dff46(0x217)],'y':_0x27f78f[_0x8dff46(0x218)]['y']/_0x27f78f[_0x8dff46(0x217)]}),this.#lastMovePos=_0x27f78f[_0x8dff46(0x1e0)],this.#lastMoveTime=new Date()[_0x8dff46(0x1e7)](),!(gModifiersMask&Modifiers[_0x8dff46(0x216)])?_0x27f78f[_0x8dff46(0x1fe)]=undefined:_0x27f78f[_0x8dff46(0x1fe)]=this.#startPos,this['callEvent']('move',_0x27f78f),_0x27f78f[_0x8dff46(0x1fe)]&&((Math[_0x8dff46(0x1ea)](_0x27f78f[_0x8dff46(0x1e0)]['x']-_0x27f78f[_0x8dff46(0x1fe)]['x'])>this.#CLICK_THRESHOLD||Math[_0x8dff46(0x1ea)](_0x27f78f[_0x8dff46(0x1e0)]['y']-_0x27f78f[_0x8dff46(0x1fe)]['y'])>this.#CLICK_THRESHOLD)&&(this[_0x8dff46(0x212)]&&(clearTimeout(this[_0x8dff46(0x212)]),this[_0x8dff46(0x212)]=undefined)),_0x27f78f[_0x8dff46(0x1dc)]=_0x27f78f['movePos'],this[_0x8dff46(0x1f1)](_0x8dff46(0x1f7),_0x27f78f));}#handleMove2(_0x367a8b,_0xee7d05,_0x24bc70,_0x21b421){const _0xe87550=_0x32fb4e,_0x3d341e={'x':_0x24bc70-_0x367a8b,'y':_0x21b421-_0xee7d05};if(!this.#lastMove2Vector){this.#lastMove2Vector=_0x3d341e;return;}const _0x56c594=this.#lastMove2Vector['x']*_0x3d341e['y']-this.#lastMove2Vector['y']*_0x3d341e['x'],_0x5328f9=Math[_0xe87550(0x1ef)](this.#lastMove2Vector['x']*this.#lastMove2Vector['x']+this.#lastMove2Vector['y']*this.#lastMove2Vector['y']),_0xb1e942=Math[_0xe87550(0x1ef)](_0x3d341e['x']*_0x3d341e['x']+_0x3d341e['y']*_0x3d341e['y']);if(Math['abs'](_0x56c594)<=this.#MOVE_2_CROSS_THRESHOLD&&Math['abs'](_0xb1e942-_0x5328f9)>this.#PINCH_STEP){const _0x27a561={'pinchDelta':_0xb1e942-_0x5328f9,'pinchCenterPos':{'x':(_0x367a8b+_0x24bc70)/0x2,'y':(_0xee7d05+_0x21b421)/0x2}};this[_0xe87550(0x1f1)](_0xe87550(0x205),_0x27a561);}this.#lastMove2Vector={'x':vectorX,'y':vectorY};}#handleStart(_0x53a644,_0x448b0e,_0x137492=undefined){const _0x290fce=_0x32fb4e;if(!_0x137492)_0x137492={};_0x137492[_0x290fce(0x1fe)]=getCanvasCoords(_0x53a644,_0x448b0e),this.#startPos=this.#lastMovePos=_0x137492['startPos'],gModifiersMask=gModifiersMask|Modifiers[_0x290fce(0x216)],_0x137492[_0x290fce(0x1df)]=gModifiersMask,_0x137492&&(gModifiersMask|=getModifierMask(_0x137492)),this[_0x290fce(0x1f1)](_0x290fce(0x213),_0x137492),this[_0x290fce(0x202)]=![],!this[_0x290fce(0x212)]&&(this[_0x290fce(0x212)]=setTimeout(()=>{const _0x2f9a73=_0x290fce;this[_0x2f9a73(0x212)]=undefined,this['clickCancelled']=!![],this['callEvent'](_0x2f9a73(0x1ff),_0x137492);},this.#LONG_PRESS_TIME_MS));}#handleEnd(){const _0x55ae5b=_0x32fb4e;gModifiersMask=gModifiersMask&~Modifiers[_0x55ae5b(0x216)];this[_0x55ae5b(0x212)]&&(clearTimeout(this[_0x55ae5b(0x212)]),this[_0x55ae5b(0x212)]=undefined);const _0x5d4c08={'endPos':this.#lastMovePos};this['callEvent']('up',_0x5d4c08);if(!this[_0x55ae5b(0x202)]&&Math[_0x55ae5b(0x1ea)](this.#lastMovePos['x']-this.#startPos['x'])<this.#DOUBLECLICK_THRESHOLD&&Math[_0x55ae5b(0x1ea)](this.#lastMovePos['y']-this.#startPos['y'])<this.#DOUBLECLICK_THRESHOLD){const _0x4b1a01=new Date()[_0x55ae5b(0x1e7)](),_0x1ef866={'clickPos':this.#lastMovePos};this[_0x55ae5b(0x1f1)](_0x55ae5b(0x1e6),_0x1ef866),this[_0x55ae5b(0x1de)]?(this[_0x55ae5b(0x1f1)]('double-click',_0x1ef866),clearTimeout(this['doubleClickTimeout']),this['doubleClickTimeout']=undefined):this['doubleClickTimeout']=setTimeout(()=>{const _0x44f9c7=_0x55ae5b;this[_0x44f9c7(0x1de)]=undefined;},this.#DOUBLE_CLICK_TIME_MS);}}#handleOut(_0x362b30){const _0xaf5675=_0x32fb4e;_0x362b30=_0x362b30?_0x362b30:window['event'];var _0x4c57e3=_0x362b30[_0xaf5675(0x1fd)]||_0x362b30[_0xaf5675(0x211)];if(!_0x4c57e3||_0x4c57e3[_0xaf5675(0x1d8)]=='HTML'){const _0x26e6af={'lastPos':this.#lastMovePos};this[_0xaf5675(0x1f1)](_0xaf5675(0x20d),_0x26e6af);}}#handleWheel(_0x5a5879){const _0x56862f=_0x32fb4e,_0x1687cb={'wheelPos':this.#lastMovePos,'wheelDelta':_0x5a5879[_0x56862f(0x207)],'wheelDeltaMode':_0x5a5879['deltaMode']};this[_0x56862f(0x1f1)]('mousewheel',_0x1687cb);}}export let gScreen=new Screen();function logEvent(_0x1314ac){const _0xbcda59=_0x32fb4e;console[_0xbcda59(0x1db)](_0x1314ac[_0xbcda59(0x210)]+':\x20'+JSON[_0xbcda59(0x1e2)](_0x1314ac));}function _0x22e6(_0x36eb41,_0xd6ff35){const _0x306326=_0x3063();return _0x22e6=function(_0x22e62a,_0x14576c){_0x22e62a=_0x22e62a-0x1d7;let _0x165f88=_0x306326[_0x22e62a];return _0x165f88;},_0x22e6(_0x36eb41,_0xd6ff35);}function resize(){const _0x26749e=_0x32fb4e,_0x5a8855=window['devicePixelRatio']||0x1,_0x5ac290=window['innerWidth']*_0x5a8855,_0x3f7dac=window[_0x26749e(0x20e)]*_0x5a8855;(_0x5ac290!=canvas[_0x26749e(0x1fb)]||_0x3f7dac!=canvas[_0x26749e(0x214)])&&(canvas[_0x26749e(0x1fb)]=_0x5ac290,canvas[_0x26749e(0x214)]=_0x3f7dac);};resize(),window[_0x32fb4e(0x1dd)](_0x32fb4e(0x1eb),resize);